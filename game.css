body {
  margin: 0;
  padding: 0;

}

#screen {
  width: 100vw;
  height: 100vh;
  background-color: azure;
  overflow: hidden;
  
}

#stage {
  --cols: 6;
  --rows: 2;
}

#platforms {
  display: grid;
  grid-template-columns: repeat(var(--cols), 10vh);
  grid-template-rows: repeat(var(--rows), 10vh);
}

#platforms div {position: relative;}

#platforms .tile {
  
  background-size: cover;
}

#platforms .tile.sign span {
  position: absolute;
  left: 0;
  top: 1vh;
  height: 5.5vh;
  width: 100%;
  font-family: 'Gochi Hand', cursive;
  font-size: 4vh;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  text-shadow: 1px 1px 3px #444;
}

/* info box */
#info {
  pointer-events: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.hidden {
  display: none;
}

#sign {
  pointer-events:all;
  width: 40vw;
  border: 4vh ridge #c4905fd0;
  box-shadow: -.5vh -.5vh 8px #ae7640d0, .5vh .5vh 8px #705236e0; 
  
  border-radius: 4vh;
  background-color: #c58f5c;
  
}

#sign.show {
  animation: signshow 1s 1 cubic-bezier(.78,.86,.58,1.38) forwards;
  transform-origin: bottom;
}

@keyframes signshow {
  from {
    transform: translateY(12vh) scale(.1);  
  }

  to {
    transform: translateY(0) scale(1);
  }
}


#sign.hide {
  animation: signhide .4s ease-in 1 forwards;
  transform-origin: bottom;
  
}

@keyframes signhide {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  70% {
    opacity: 1;
  }
  to {
    transform: translateY(15vh) scale(0);  
    opacity: 0;;
  }
}



#sign .box {
  border-bottom: 1px solid #00000080;
  border-right: 1px solid #00000080;
  border-radius: 3vh 0;
  padding: .5vh 3vh;

  font-family: 'Gochi Hand', cursive;
  
  color: white;

  display: flex;
  flex-direction: column;
}

#info .box h1 {
  font-size: 300%;
  margin: 1vh 0;
  border-bottom: 2px ridge #e6be98d0;
}

#info .box p {
  margin: 0;
  font-size: 200%;
  border-bottom: 2px ridge #e6be98d0;
}

#info .box button {
  margin: 1vh;
  width: 20%;
  align-self: flex-end;
  border-radius: 1vh;
  font-family: 'Gochi Hand', cursive;
  font-size: 3vh;
}

/* BOXES */
.boink {
  animation: bounce 0.9s both, zoomBox 0.8s 0.9s ease-in forwards;
}

@keyframes zoomBox {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  30% {
    transform: translateY(0) scale(2.2);
    opacity: 1;
  }

  100% {
    transform: translateY(-40vh) scale(10);
    opacity: 0;
  }
}


@keyframes bounce {
  0% {
    transform: translateY(-45px);
    animation-timing-function: ease-in;
    opacity: 1;
  }
  24% {
    opacity: 1;
  }
  40% {
    transform: translateY(-24px);
    animation-timing-function: ease-in;
  }
  65% {
    transform: translateY(-12px);
    animation-timing-function: ease-in;
  }
  82% {
    transform: translateY(-6px);
    animation-timing-function: ease-in;
  }
  93% {
    transform: translateY(-4px);
    animation-timing-function: ease-in;
  }
  25%,
  55%,
  75%,
  87% {
    transform: translateY(0px);
    animation-timing-function: ease-out;
  }
  100% {
    transform: translateY(0px);
    animation-timing-function: ease-out;
    opacity: 1;
  }
}



/* player */

#player {
  /* outline: 2px solid red; */
  position: absolute;
  top: 0;
  left: 0;
  width: 15vh;
  height: 15vh;
}

#player .sprite {
  background-image: url('character.svg'); /* TODO: Make SVG! */
  width: 100%;
  height: 100%;
  background-position: 0px 0px;
  background-size: 700% 300%;
}

#player .effect {
  position: absolute;
  bottom: 0;
  left: 0;
  
  background-image: url('effects.svg');
  background-size: 600% 200%;

  height: 50%;
  width: 100%;  
  opacity: 0;
}

#player .effect.dust { 
  background-position: 0 0;
  animation: dust-settle .3s ease-in 1 forwards;
  transform-origin: bottom;

  

}

#player .hitbox {
  /*
  position: absolute;
  background-color:rgba(0, 128, 0, .2);
  width: 100%;
  top: 0;
  left: 0;
  height: 100%;
  outline: 2px dashed lightgreen;
  */
}

@keyframes dust-settle {
  0% {
    opacity: 0;
    transform: translatey(-1.8vh) scale(0,0);
  }

  30% {
    opacity: 1;
    transform: translateY(-1.8vh) scale(1,1);
  }

  to {
    opacity: 0;
    transform: translateY(-1.8vh) scale(.6,.2);
  }
}

#player.standing, 
#player.landing {
  

}

#player.standing .sprite {
  background-position: 0px 0px;
}

#player.idle .sprite {
  animation: idle 1s steps(5) infinite alternate;
}

@keyframes idle {
  from {
    background-position: 0 0;
  }
  to {
    background-position: -500% 0%
  }
}

#player.falling {
  /* animation: falling 1.5s ease-in 1 forwards; */
}

@keyframes falling {
  from {
    transform: translateY(-15vh);
  }

  to {
    transform: translateY(77.5vh);
  }
}

#player.falling .sprite {
  background-position: 0px 0px;
  /* animation: walkcycle 1s steps(6) infinite; */
}

#player.walking .sprite {
  animation: walkcycle .6s steps(6) infinite;
}

@keyframes walkcycle {
  from {
    background-position: -100% -100%;
  }
  to {
    background-position: -700% -100%;
  }
}

#player.landing .sprite {
  animation: landing .7s steps(3) 1;
}

@keyframes landing {
  from {
    background-position: -000% -200%;
  }
  to {
    background-position: -300% -200%;
  }
}